---
layout: post
title:  "Java面向对象第三天"
date:   2019-10-22
categories: Java
tags: Java note
---

* content
{:toc}

1. 面向对象第4天：继承、访问控制、final关键字
2. 面向对象第5天：多态、抽象类、接口
3. JavaSE阶段第二个小阶段的总结











# Java面向对象第三天
## Java进阶篇--面向对象--第4天
### 继承
1. 基本概念
    1. 当多个类之间有相同的特征和行为时，可以将相同的内容提取出来组成一个公共类，让多个公共类吸收公共类中已有特征和行为而在多个类的内部编写自己独有特征和行为的方式，叫做继承
    2. 使用继承可以提高代码的复用性和扩展性以及可维护性
    3. 在Java语言中使用extends(
    扩展)关键字来表达继承关系
    ```java
如：
public class Student extends Person{}
表示Student类继承自Person类
其中Person类叫做基类、父类、超类
其中Student类叫做派生类、子类、孩子类
    ```

2. 注意事项
    1. 子类可以继承父类的成员变量和成员方法，其中私有成员变量可以继承但不可以直接使用。子类不可以继承父类的构造方法和私有方法
    2. 无论使用何种方式构造子类对象时，都会自动调用父类中的无参构造方法来初始化从父类继承下来的成员变量，相当于在子类构造方法的第一行增加代码:super()的效果
    ```java
以后写代码一律带着super()格式写
如：
public Worker(){
    super();
    }
public Worker(String name,int age,int salary){
    super(name,age);
    setSalary(salary);
    }  
    ```

    3. 使用继承必须满足 子类is a父类 的逻辑关系，也就是不能滥用继承
    4. Java语言中只支持单继承，不支持多继承，也就是一个子类只能有一个父类，但一个父类可以有多个子类
3. 方法重写
    1. 基本概念：当父类中继承下来的方法不满足子类的需求时，就需要在子类中重新写一个与父类中一样的方法来覆盖从父类中继承的版本，这种方式就叫做重写
    2. 重写的原则：
        1. 方法名相同，参数列表相同，返回值类型相同，从jdk1.5开始允许返回子类类型
        2. 要求方法访问权限不能变小，可以相同或者变大
        3. 不能抛出更大的异常
    3. 语法格式
    ```java
@Override
public void show(){
    super.show();
    System.out.println("我一个月能挣"+getSalary()+"呢");
}
    ```

### 访问控制(笔试题)
1. 常用的访问控制符

访问控制符|访问权限|本类|本包中的类|子类|其他包中的其他类
--|--|--|:--:|--|:--:
public|公有的|ok|ok|ok|ok
protected|保护的|ok|ok|ok|no
啥也不写|默认的|ok|ok|no|no
private|私有的|ok|no|no|no

2. 包的定义
    1. package 包名;
    2. package 包名1.包名2...包名n; --便于管理，避免命名冲突的问题
3. 要求掌握的内容
    1. public修饰的内容可以在任意位置使用
    2. private修饰的内容只能在本类中使用
    3. 通常情况下，成员变量都使用private修饰，成员方法都使用public修饰

### final关键字(重点)
1. 基本概念:final本意为"最终的,不可更改的"，该关键字可以修饰类、成员方法、成员变量等。
2. 使用方式
    1. final关键字修饰类表示该类不能被继承
        1. 为了防止滥用继承带来的危害
        2. 如：java.lang.String类等
    2. final关键字修饰成员方法表示该方法不能被重写但可以被继承
        1. 为了防止不经意间的方法重写
        2. 如：java.text.DataFormat类中的format方法等
    3. final关键字修饰成员变量表示该成员变量必须初始化而且不能更改
        1. 为了防止不经意间造成的数值的更改
        2. 如：java.lang.Thread类中的MAX_PRIORITY等
3. 扩展:
    1. 在以后的开发中很少单独使用static关键字或final关键字修饰成员变量，通常都是使用public static final共同修饰成员变量来表达常量的含义，常量的命名规则是：要求所有的字母大写，不同单词之间采用下划线连接，如：
    2. public static final double PI = 3.14;

## Java进阶篇--面向对象--第5天
### 多态(重中之重)
1. 基本概念
    1. 多态主要指同一种事物表现出的多种形态。
    2. 饮料：可乐、雪碧、脉动、乐虎、红牛、...
    3. 宠物：狗、猫、鸟、乌龟、鱼、...
2. 语法格式
```java
父类类型 引用变量名 = new 子类类型();
如：
Person pw = new Worker();
pw.show();
解析：
    在编译阶段调用Person类中show方法，在运行阶段，调用重写以后的show方法
```  

3. 多态的效果
    1. 当父类的引用指向子类的对象时，父类的引用可以直接调用父类独有的方法
    2. 当父类的引用指向子类的对象时，父类的引用不可以直接调用子类独有的方法
    3. 对于父子类都有的非静态成员方法来说，编译阶段调用父类版本，运行阶段调用子类重写后的版本
    4. 对于父子类都有的静态方法来说，编译和运行阶段调用父类版本，隶属于类层级，因此与指向的对象无关
4. 引用数据类型之间的转换
    1. 引用数据类型之间的转换分为：自动类型转换 和 强制类型转换。
        1. 其中自动类型转换主要指从小范围到大范围之间的转换，也就是子类到父类的转换
        2. 其中强制类型转换主要指从小范围到大范围之间的转换，也就是子类到父类的转换
    2. 引用数据类型之间的转换必须发生在父子类之间，否则编译报错
    3. 若转换到的目标类型是子类类型但不是该引用真正指向的子类类型，则编译通过，运行阶段发生类型转换异常
    4. 为了避免上述错误的发生，可以使用instanceof进行判断，具体格式如下：
    ```java
if(引用变量名 instanceof 数据类型)--判断引用变量指向的对象是否为后面类型
    ```

5. 多态的意义
    1. 多态的实际意义在于可以屏蔽不同子类的差异性实现通用的编程，但可以调用不同的方法带来不同的结果。

### 抽象类(重点)
1. 抽象方法的概念：抽象方法就是指不能具体实现的方法，也就是没有方法体并使用abstract关键字修饰
    1. 语法格式
    ```java
访问控制符 abstract 返回值类型 方法名称(形参列表);
如：
public abstract void cry();
    ```

2. 抽象类的概念：不能具体实例化的类，也就是不能创建对象并使用abstract的类
3. 注意事项
    1. 抽象类中可以有成员变量，构造方法以及成员方法
    2. 抽象类中可以有抽象方法也可以没有抽象方法
    3. 拥有抽象方法的类必须是抽象类，因此严格来说，具有抽象方法并使用abstract关键字修饰的类才算真正意义上的抽象类
4. 实际意义
    1. 抽象类的意义不在于自身创建对象而在于被继承，当一个类继承抽象类后必须重写抽象类中的抽象方法，否则该类也变成抽象类
    2. 也就是说抽象类对子类具有强制性和规范性，因此叫做模板设计模式
5. 经验分享
    1. 在以后的开发中推荐使用多态的语法格式，当父类的引用指向子类对象时，那么父类引用直接调用的所有方法一定是父类拥有的方法，若希望更换子类时，只需要将new关键字后面的类型修改而其他地方无需更改立即生效，从而提高了代码的可维护性。
    2. 缺点是：父类引用不能直接访问子类独有的方法，若访问则需要强转

### 接口(重点)
1. 基本概念
    1. 接口就是一种比抽象类还抽象的类，体现为所有成员方法都是抽象方法。
    2. 定义类的关键字是class，而定义接口的关键字是interface
    3. 继承类的关键字是extends，而实现接口的关键字是implements
    4. 解决了Java语言中不能多继承的问题
2. 类和接口之间的关系
    1. 类和类之间：使用extends关键字表达继承关系：支持单继承
    2. 类和接口之间：使用implemets关键字表达实现的关系：支持多实现
    3. 接口和接口之间：使用extends关键字表达继承关系：支持多继承
3. 抽象类和接口之间的区别(笔试题)
    1. 定义抽象类的关键字是abstract class，而接口的关键字是interface。
    2. 继承抽象类的关键字是extends，而实现接口的关键字是implements。
    3. 继承抽象类支持单继承，而实现接口可以多实现。
    4. 抽象类可以有构造方法，而接口中不可以有构造方法。
    5. 抽象类中可以有成员变量，而接口中只可以有常量。
    6. 抽象类中可以有成员方法，而接口中只可以有抽象方法。
    7. 抽象类中增加方法可以不影响子类，而接口中增加方法通常都影响子类
    8. 从jdk1.8开始允许接口中出现非抽象方法，但需要使用default关键字修饰
4. 匿名内部类(重点、难点)
    1. 语法格式
    ```
接口/父类类型 引用变量名 = new 接口/父类类型(){方法的重写};
    ```

    2. 经验分享:当接口类型的引用作为方法的形参时，实参的传递方式有两种：
        1. 自定义类实现接口，然后创建该类的对象作为实参传递
        2. 使用匿名内部类的语法格式来得到接口类型的引用作为实参传递

## 笔试题考点
1. 请问abstract和final关键字能不能共同修饰一个方法？
2. 答：不能，abstract修饰的方法是一个抽象方法，抽象方法是没有方法体的，它本身没有意义。它的意义体现在被继承和被重写。而final修饰的方法不能被重写，所以他俩不能共存
3. 请问abstract和static关键字能不能共同修饰一个方法？
4. 答：不能，abstract关键字不能创建对象的意义在于防止不小心调用抽象方法，而static将它体到类层级，可以直接通过类名调用，也就失去了本来的意义
5. 请问abstract和private关键字能不能共同修饰一个方法？
6. 答：不能，abstract修饰的方法是一个抽象方法，抽象方法是没有方法体的，它本身没有意义。它的意义体现在被继承和被重写。而private修饰的方法不能被继承，所以他俩不能共存

## JavaSE阶段第二个小阶段的总结
1. 第一部分
    * 面向对象编程的概念、类、对象以及引用、成员方法等。
2. 第二部分
    * 构造方法和方法重载、this关键字、方法的传参过程和递归调用
3. 第三部分
    * 封装、static关键字、单例设计模式、继承等
4. 第四部分
    * 访问控制、final关键字、多态等
5. 第五部分
    * 抽象类、接口、匿名内部类等













